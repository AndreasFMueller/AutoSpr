Sei $\Sigma=\{0,1\}$ und 
\[
L=\{ w\in\Sigma^*\;|\; \text{$w$ ist die Binärdarstellung einer Primzahl}\}
\]
Ist $L$ regulär?

\thema{regulär}
\thema{Pumping Lemma für reguläre Sprachen}

\begin{loesung}
Wir lösen die Aufgabe für beliebige Basis $b$ des Zahlensystems, nicht
nur wie in der Aufgabe gefordert für $b=2$.

Im Folgenden sollen Eigenschaften der Darstellung von Primzahlen
zur Basis $b$ untersucht werden.
Jede natürliche Zahl kann als Zeichenkette aus Zeichen aus der
Menge $\Sigma=\{\texttt{0},\texttt{1},\texttt{2},\dots, b-1\}$ der $b$-adischen
Ziffern geschrieben werden.
Die Aufgabe stellt daher die Frage, ob die Menge
\[
L=\{ w\in\Sigma^*\,|\,\text{$w$ ist $b$-adische Darstellung einer Primzahl}\}
\]
eine reguläre Sprache ist.
Die Antwort ist:

\newtheorem{satz}{Satz}

\begin{satz}
\label{30000051:satz}
Die $b$-adischen Darstellungen der Primzahlen bilden keine reguläre Sprache.
\end{satz}

Der Satz~\ref{30000051:satz} verbindet $b$-adische Darstellungen einer Zahl,
also Zeichenketten, mit Werten. 
Wir definieren für diesen "Ubergang die Funktion
\[
v_b\colon \Sigma^*\to \mathbb N:w\mapsto v_b(w),
\]
wobei $v_b(w)$ der Zahlenwert der als $b$-adische Zahl aufgefassten
Zeichenkette sei.

\begin{proof}[Beweis]
Für den Beweis des Satzes verwenden wir das Pumping Lemma.
Wir nehmen also an, dass $L$ regulär ist.
Wörter mindestens so lange wie die pumping length $N$ angibt haben
die Pump\-eigenschaft.
Wir wählen daher eine Zeichenkette $w$ ausreichender Längen, $|w|\ge N$,
die die $b$-adische Darstellung einer Primzahl ist, wir bezeichnen
die Primzahl mit $p=v_b(w)$.

Nach dem Pumping Lemma gibt es eine Unterteilung der Zeichenkette $w$ in
drei Teile $x,y,z\in\Sigma^*$ mit $w=xyz$.
Von den vom Pumping Lemma garantierten Eigenschaften brauchen wir nur
$|y|>0$.
Wir setzen $w_k=xy^kz$, insbesondere ist $w=w_1$.
Das Pumping Lemma behauptet, dass alle Wörter $w_k$ wieder $b$-adische 
Darstellungen von Primzahlen sind.
Es genügt also ein $k$ zu finden, so dass $v_b(w_k)$ nicht prim ist.

Den Zeichenketten $x$, $y$ und $z$ entsprechen die drei Zahlen
\begin{align*}
d&= v_b(x) b^{|y| + |z|},
\\
e&= v_b(y) b^{|z|} \quad\text{und}
\\
f&= v_b(z),
\end{align*}
die zusammen die Summe $p$ haben, $d+e+f=p$.
Dies lässt sich auch graphisch verdeutlichen:
\begin{center}
\includeagraphics[]{pl-1.pdf}
\end{center}

Die Pumpoperation kann jetzt algebraisch ausgedrückt werden.
Sie verschiebt Zeichen um $|y|$ Stellen, was in der Basis $b$ der
Multiplikation mit $s=b^{|y|}$ entspricht.
Wegen $|y|>0$ ist $s>1$.
Es gilt
\begin{equation}
v_b(w_k)
=
ds^{k-1} + e(s^{k-1}+s^{k-2}+\dots+s+1) + f.
\label{30000051:pump}
\end{equation}
wie man auch aus der graphischen Darstellung
\begin{center}
\includeagraphics[]{pl-2.pdf}
\end{center}
ablesen kann.
Wir möchten dies für den Fall $k=p$ berechnen, allerdings
nur modulo $p$.
Die Summenformel für die geometrische Reihe liefert
für den Klammerausdruck in (\ref{30000051:pump})
\begin{equation}
s^{k-1}+s^{k-2}+\dots+s+1 = \frac{1-s^k}{1-s}.
\label{30000051:summenformel}
\end{equation}
Da $1<s<p$ ist, ist $1-s$ invertierbar modulo $p$, und
(\ref{30000051:summenformel}) ist auch richtig modulo $p$. 

Wir verwenden jetzt $k=p$ und wenden den kleinen Satz von Fermat an,
der besagt, dass
\begin{align*}
a^p&\equiv a\mod p
\\
\text{oder}\qquad
a^{p-1}&\equiv 1\mod p
\end{align*}
ist für jedes $a\ne 0$, also auch für $a=s$.
Setzt man dies in (\ref{30000051:summenformel}) und (\ref{30000051:pump}) ein,
folgt
\begin{align*}
s^{p-1}+s^{p-2}+\dots+s+1
\phantom{)+f}
&=\frac{1-s^p}{1-s} \equiv \frac{1-s}{1-s}=1\mod p,
\\
v_b(w_p)
=
ds^{p-1} + e(s^{p-1}+s^{p-2}+\dots+s+1) + f
&\equiv
d+e+f = p\equiv 0 \mod p
\end{align*}
Also ist $v_b(w_p)$ durch $p$ teilbar, und damit stellt $w_p$ keine
Primzahl dar.

Dieser Widerspruch zeigt, dass die Annahme, $L$ sei regulär, nicht
zutreffend ist.
Damit ist der Satz bewiesen.
\renewcommand{\qedsymbol}{$\square$}
\end{proof}

Die Aufgabe ist der Spezialfall $b=2$, und mit Satz~\ref{30000051:satz}
auch beantwortet.
\end{loesung}
