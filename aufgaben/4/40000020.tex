Finden Sie eine Grammatik in Chomsky Normalform für eine Sprache
$L$ über dem Alphabet
$\Sigma=\{\text{\tt o},\text{\tt s}\}$, bestehend aus den Wörtern
$w$ mit folgender Eigenschaft: Jedes Anfangsstück von $w$ enthält mindestens
so viele {\tt o} wie {\tt s}. Zur Sprache gehören beispielsweise
\[
\varepsilon,
\text{\tt o},
\text{\tt oo},
\text{\tt os},
\text{\tt oos},
\text{\tt oso}.
\]
Nicht dazu gehören dagegen beispielsweise
\[
\text{\tt s},
\text{\tt sos},
\text{\tt soso},
\text{\tt oosss},
\text{\tt osso}.
\]

\thema{Grammatik}
\thema{Chomsky Normalform}

\begin{loesung}
Klammerausdrücke haben die gleiche Eigenschaft: in jedem Teilausdruck
ist die Anzahl der öffnenden Klammern $\ge$ der Anzahl der schliessenden
Klammern (was die Wahl der Zeichen {\tt o} und {\tt s} erklärt). Es muss
also nur eine Grammatik für Klammerausdrücke gefunden werden, und darin
muss zusätzlich erlaubt werden, dass eine Klammer nicht geschlossen
wird. Eine solche ist
\begin{align*}
S&\rightarrow \varepsilon\\
 &\rightarrow SS\\
 &\rightarrow {\tt o}S{\tt s}\\
 &\rightarrow {\tt o}S
\end{align*}
Die letzte Produktionsregel kann man auch durch $S\rightarrow{\tt o}$
ersetzen:
\begin{align*}
S&\rightarrow \varepsilon\\
 &\rightarrow SS\\
 &\rightarrow {\tt o}S{\tt s}\\
 &\rightarrow {\tt o}
\end{align*}

Diese Grammatik hat noch nicht Chomsky Normalform. Zur Reduktion auf
Chomsky-Normalform verwendet man den Standardalgorithmus:
\begin{enumerate}
\item Neuen Startzustand $S_0$ hinzufügen, der auf der rechten Seite
nicht vorkommt:
\begin{align*}
S_0&\rightarrow S\\
S&\rightarrow \varepsilon\\
 &\rightarrow SS\\
 &\rightarrow {\tt o}S{\tt s}\\
 &\rightarrow {\tt o}S
\end{align*}
\item Elimination der $\varepsilon$-Regeln:
\begin{align*}
S_0&\rightarrow S\\
   &\rightarrow \varepsilon\\
S&\rightarrow SS\\
 &\rightarrow {\tt o}S{\tt s}\\
 &\rightarrow {\tt o}{\tt s}\\
 &\rightarrow {\tt o}
\end{align*}
worin wir eine ohnehin überflüssige Regel $S\rightarrow S$
ausgelassen haben.
\item Elimination von Unit-Rules:
\begin{align*}
S_0&\rightarrow \varepsilon\\
S_0&\rightarrow SS\\
   &\rightarrow {\tt o}S{\tt s}\\
   &\rightarrow {\tt o}{\tt s}\\
   &\rightarrow {\tt o}\\
S&\rightarrow SS\\
 &\rightarrow {\tt o}S{\tt s}\\
 &\rightarrow {\tt o}{\tt s}\\
 &\rightarrow {\tt o}
\end{align*}
\item Rechte Seiten mit mehr als 2 Termen auflösen
\begin{align*}
S_0&\rightarrow \varepsilon\\
S_0&\rightarrow SS\\
   &\rightarrow AB\\
   &\rightarrow {\tt o}{\tt s}\\
   &\rightarrow {\tt o}\\
S&\rightarrow SS\\
 &\rightarrow AB\\
 &\rightarrow {\tt o}{\tt s}\\
 &\rightarrow {\tt o}\\
A&\rightarrow {\tt o}\\
B&\rightarrow S{\tt s}
\end{align*}
\item Literale durch Regeln ersetzen, für {\tt o} haben wir bereits
eine dafür geeignete Variable  $A$, für {\tt s} verwenden wir die
Variable $Z$, und erhalten:
\begin{align*}
S_0&\rightarrow \varepsilon\\
S_0&\rightarrow SS\\
   &\rightarrow AB\\
   &\rightarrow AZ\\
   &\rightarrow {\tt o}\\
S&\rightarrow SS\\
 &\rightarrow AB\\
 &\rightarrow AZ\\
 &\rightarrow {\tt o}\\
A&\rightarrow {\tt o}\\
B&\rightarrow SZ\\
Z&\rightarrow {\tt s}
\end{align*}
\end{enumerate}
Damit haben wir Chomsky Normalform erreicht.
\end{loesung}
