%
% karp.tex -- Beispiele zum Katalog von Karp
%
% (c) 2019 Prof Dr Andreas Müller, Hochschule Rapperswil
%
\section{Beispiele}
\rhead{Beispiele zur Liste von Karp}
In diesem Abschnitt werden zu den NP-vollständigen Problemen des
Katalogs von Karp einzelne Beispiele oder Illustrationen geben.
\subsection{VERTEX-COVER}
Diktator Revoc Xetrev unterdrückt sein Volk gnadenlos.
Schon länger lässt er von der staatlichen Telefongesellschaft
erheben, welche Telefonanschlüsse genau miteinander telefonieren.
Damit lassen sich hervorragend Leute als Regimefeinde entlarven.
Nachdem allerdings eine ganze Reihe von hohen Militärs als
Landesverräter verurteilt und erschossen worden waren,
stellte sich heraus, dass eine Gruppe von
inzwischen ebenfalls verurteilten Regimekritikern sich genau dies
zu Nutze machten: sie riefen die Militärs gegen deren Willen an.
Da es keine Aufzeichnung über den Inhalt der Gespräche gab, konnten
die Militärs ihre Unschuld nicht beweisen, mit fatalen Folgen für
ihre Karriere.

Diese Affäre hatte das Militär einige der fähigsten Köpfe beraubt,
so dass eine zuverlässigere Methode gefunden werden musste, um
Regimefeinde zu erkennen.
Wenn sich damit gegenüber dem Ausland auch noch ein Anschein von
Rechtssystem etablieren liess, würde das Diktator Xetrev den Zugang
zu westlichen Waffenlieferanten etwas erleichtern.

Aus technischen Gründen ist eine lückenlose Überwachung aller Anschlüsse
nicht möglich.
Die Software kann mit maximal $k$ Anschlüssen umgehen, die abgehört
werden können.
Diktator Xetrev befiehlt daher, dass innert einer Woche eine Menge
von $k$ Anschlüssen definiert werden müsse, so dass jedes
Telefongespräch abgehört werden kann.

Diese Ankündigung verursacht erst einmal eine neue Fluchtwelle von
Mathematikern und Informatikern.
Nach einer Woche wird der erste Experte wegen Befehlsverweigerung
erschossen.
Im Prozess, der nur 15 Minuten gedauert hatte, hatte er feige behauptet,
es sei nicht möglich, in der kurzen
Zeit eine entsprechende Menge zu finden. Ja es sei nicht einmal
möglich, zu entscheiden, ob es eine solche Menge überhaupt gäbe.
Der Staatsanwalt legte ihm das als Sabotage der Pläne des grossen
Diktators Xetrev aus und machte kurzen Prozess mit ihm.

Als aber nach einer weiteren Woche erneut ein Saboteur angeklagt wurde,
der genau die gleiche Verteidigungstrategie verwendete, obwohl
doch mittlerweile bekannt war, dass sie nicht zum Erfolg führen konnte,
begann sich Diktator Xetrev zu fragen, ob darin vielleicht
ein Körnchen Wahrheit stecken könnte. Könnte es sein, dass 
es tatsächlich zu schwierig ist, eine solche Anschlussauswahl zu treffen?

\medskip

Das Problem, welches die Experten lösen sollten, ist das Problem
{\it VERTEX-COVER}. Die Telefonanschlüsse bilden die Knoten eines Graphen,
die Kanten verbinden diejenigen Anschlüsse, die tatsächlich miteinander
telefonieren. Gesucht ist eine Menge von $k$ Knoten so, dass jedes
mögliche Gespräch abgehört werden kann, also jede Kante in einem
ausgewählten Knoten endet.


\subsection{FEEDBACK-NODE-SET}
In einer grossen Fabrik bringen Transportroboter die Teile zu den
Verarbeitungsstationen.  Die Roboter fahren dabei entlang vorgegebener
Bahnen, die sie mit Hilfe von Bodenmarkierungen einhalten.  Die Roboter
sind immer für die gleichen Prozesse im Einsatz und fahren daher mehrmals
am Tag immer die gleichen Runden ab.

Die Wartungsvorschriften verlangen, dass die Roboter täglich einmal einem
Sicherheitscheck unterzogen werden, der nur wenige Minuten dauert. Wegen
des weitläufigen Fabrikgeländes lohnt es sich nicht, alle Roboter jeden
Tag an eine zentrale Kontrollstelle zu fahren, wo sie überprüft werden
können. Sie würden viel zu lange ausfallen. Daher wurde entschieden, an
einigen Knoten des Netzes der Roboter-Fahrwege Prüfstellen einzurichten.

Sachbearbeiter Heiri Muster soll herausfinden, ob das Budget reicht,
um genügend Prüfstellen einzurichten, so dass jeder Roboter täglich
geprüft werden kann.
Drei Monate später wird er wegen Burnout freigestellt.

\medskip

Das Budget reicht für die Ausrüstung von $k$ Prüfstellen.
Die Roboter bewegen sich auf dem gerichteten Graphen der Bodenmarkierungen.
Sie fahren die Zyklen des Graphen ab. Gesucht wird jetzt eine Menge
von $k$ Netzknoten für die Prüfstellen, so dass jeder Zyklus des Graphen
durch eine dieser Prüfstellen verläuft.
Dies ist das NP-vollständige Problem {\it FEEDBACK-NODE-SET}.
Nach aktuellem Wissen gibt es keinen Algorithmus mit polynomieller
Laufzeit, der entscheiden könnte, ob das Problem überhaupt eine
Lösung hat.

\subsection{FEEDBACK-ARC-SET}
Kurz nachdem die Pläne für das Prüfstellennetz aus dem vorangegangenen
Beispiel von der Geschäftsleitung bewilligt worden waren, änderte
der Hersteller der Roboter bei einem Softwareupdate die Wartungsvorschriften.
Die Prüfung erfolgt jetzt nicht mehr im Stehen, sondern während der
Fahrt.
Durch diese dynamische Prüfung werden Probleme erkennbar, die bei der
statischen Prüfung nicht gefunden werden konnten. Heiri Musters
Nachfolger wird beauftragt, die Pläne entsprechend anzupassen.
Drei Monate später ist auch er wegen Burnout freigestellt.

\medskip

Das Problem wurde durch die Umstellung zu einer Instanz des
Problems {\it FEEDBACK-ARC-SET} modifiziert.
Es müssen $k$ Kanten gefunden werden, so dass jeder Zyklus eine
diese Kanten durchläuft. Auch dieses Problem ist NP-vollständig,
und dürfte daher für ein kompliziertes Streckennetz
nicht nur einen Sachbearbeiter überfordern.

\subsection{SET-COVERING}
Der populistische Politiker Tesco Vering versprach während des
Wahlkampfes, das Dickicht von Steuererleichterungen, welches
für jeden Bürger das Ausfüllen der Steuererklärung zur Qual
machte, zu vereinfachen.
Nach seinem Amtsantritt als Ministerpräsident 
stellte er jedoch fest, dass jeder seiner Wähler von irgendeiner
der Vergünstigungen profitierte. Um seine Wiederwahl nicht
zu gefährden, beauftragte er daher eine Komission eine Liste
von Vergünstigungen aufzustellen, so dass jeder seiner Wähler
immer noch von einer Vergünstigung profitiert. Niemand soll im
Wahlkampf sagen können: ``Vering hat mir alle Vergünstigungen weggenommen!''
Kurz vor Beginn des nächsten Wahlkampfs war die Komission jedoch
immer noch nicht fertig, so dass sich Vering als neues Wahlkampfthema
auf den Kampf gegen die allgemeine Unfähigkeit der Verwaltung verlegte,
um davon
abzulenken, dass er das letzte Wahlversprechen nicht eingelöst hatte.
Trotzdem wurde er nicht wiedergewählt. Eine detaillierte Analyse der
Wahlresultate ergab, dass Vering vor allem die Stimmen der Mathematiker und
Informatiker gefehlt hatten.
Sie warfen ihm Unverständnis für die Komplexität seiner Aufgabe vor und 
hielten ihn deshalb für nicht tauglich für ein politisches Amt.

\medskip

Tatsächlich ist das Programm von Tesco Vering das Problem {\it SET-COVERING}.
Die Steuervergünstigungen sind numeriert von $1$ bis $n$.
Sei $S_i$ die Menge der Wähler von Vering, die von Vergünstigung $i$
profitieren. Der Auftrag der Komission war, eine Teilmenge
$I=\{i_1,i_2,\dots,i_k\}$ zu finden, so dass
\[
\bigcup_{i=1}^nS_i=\bigcup_{i\in I}S_i
\]
ist.
Dieses Problem ist NP-vollständig, nach aktuellem Wissen gibt
es also keinen polynomiellen Algorithmus um zu entscheiden, ob es
überhaupt eine Lösung des Problems gibt.

\subsection{EXACT-COVER}
In einem Straflager müssen Sträflinge in diversen Bauprojekten
der Umgebung arbeiten.
Viele der Sträflinge sind jedoch eher unbegabt und daher kaum
fähig, diese Arbeiten zur Zufriedenheit der Lagerleitung auszuführen.
Jeder Sträfling ist für mindestens eines der Projekte nicht geeignet.
Der sadistische Lagerkommandant ersinnt sich dazu noch einen teuflischen
Plan, wie er möglichst viele Sträflinge wegen Sabotage bestrafen kann.
Er gibt seinen Schergen folgende Regeln für die Zuteilung der Sträflinge
zu den Projekten: Jeder Sträfling darf nur zu Projekten aufgeboten werden,
für die er nicht geeignet ist, und jeder Sträfling muss beschäftigt
werden.
Im Lagerapport am nächsten Tag rücken die Aufseher damit heraus, dass
sie keine Zuteilung gefunden hätten, die diesen Regeln entspricht, und
dass deshalb an diesem Tag nichts gearbeitet worden sei.
Der Lagerkommandant schäumt vor Wut und droht damit die Aufseher eigenhändig
zu erschiessen, wenn sie sich weiterhin seinen Befehlen widersetzen
würden.

\medskip

Der Lagerkommandant hat seinen Aufsehern ein Problem gestellt, welches
äquivalent zu {\it EXACT-COVER} ist.
Die Menge aller Sträflinge ist $U$.
Die Projekte seien numeriert
von $1$ bis $n$. Die Menge $S_i\subset U$ besteht aus den Sträflingen, die
für das Projekt $i$ ungeeignet sind. Weil jeder Sträfling für mindestens
ein Projekt ungeeignet ist, ist 
\[
U=\bigcup_{i=1}^n S_i.
\]
Gesucht werden jetzt Teilmenge von Projekten
$I=\{i_1,\dots,i_m\}\subset\{1,\dots,n\}$, so dass 
jeder Sträfling auf einem Projekt arbeitet:
\[
\bigcup_{j=1}^m S_{i_j}=U
\]
aber kein Sträfling mehr als einem Projekt zugeteilt wird:
\[
S_{i_j}\cap S_{i_k}=\emptyset\qquad \forall j\ne k.
\]
Dieses Problem ist NP-vollständig, nach aktuellem Wissen gibt es
also keinen polynomiellen Algorithmus, mit dem entschieden werden
könnte, ob es überhaupt eine Lösung hat.

\subsection{CLIQUE-COVER}
Ein Beispiel für das CLIQUE-COVER-Problem ist die Aufgabe 7.11 in der
Aufgabensammlung.

\subsubsection{Abschwächtes CLIQUE-COVER}
Es gibt auch eine abgeschwächte Form des CLIQUE-COVER-Problems, wo
nicht verlangt wird, dass die Cliquen disjunkt sind.
Wir könnten dieses Problem WEAK-CLIQUE-COVER nennen.
Ein Beispiel für dieses abgeschwächte Problem könnte das folgende sein.

\medskip

In einem Online-Spiel treten die Spieler jeweils paarweise gegeneinander an.
Eine zuverlässige Rangliste der Spieler kann nur innerhalb
einer Gruppe erstellt werden, in der jeder Spieler gegen
jeden anderen gespielt hat. Trotzdem soll jetzt versucht werden,
ein Gesamt-Ranking zu erstellen. Grundlage dafür ist die Auswahl
einer Menge von Gruppen, in der jeder gegen jeden gespielt hat.
Die Auswahl soll möglichst klein sein, denn man hofft so, die
Schnittmengen, in denen systembedingt am ehesten Ranking-Widersprüche
auftreten könnten, möglichst klein zu halten. Allerdings stellt es
sich als schwierig heraus, eine solche Auswahl zu treffen, warum?

\medskip

Die Aufgabe verlangt, in dem Graphen bestehend aus den Spielern
als Knoten und Kanten, die angeben, ob die zwei Spieler schon gegeneinander
gespielt hat, eine Überdeckung mit einer möglichst
kleinen Anzahl Cliquen zu finden. Dies ist das NP-vollständige Problem
{\it WEAK-CLIQUE-COVER}. Nach aktuellem Wissen gibt es dafür keinen
Algorithmus mit polynomieller Laufzeit.

\subsection{3D-MATCHING}
In der Provinz Gnichtam De herrscht grosse Wohnungsnot.
Eine Analyse durch das Innenministerium ergab, dass die Ursache
die vielen Singles sind, die jeweils alleine eine gemäss
Plan der staatlichen Wohnungsbaubehörde für Familien vorgesehene
Wohnung belegen.
Würde man die Singles paarweise den Wohnungen zuteilen, würden die
Wohnungen reichen.

Daher beschliesst der Familienminister ein Programm zur Zwangsverheiratung
der Singles und beautragt seine Behörde mit der Ausarbeitung einer Zuordnung,
wer mit wem verheiratet werden soll und wo das frisch verheiratete Paar
wohnen soll.
Natürlich ist nicht jede Kombination aus einem Mann,
einer Frau und einer Wohnung akzeptabel, immerhin müssen 
Arbeitswege vernünftig bleiben, die Bürger sollen ja als 
Arbeiter weiterhin produktiv bleiben um die hohen Steuern bezahlen zu können.
Das Ministerium beginnt also eine Liste von möglichen Zwangsfamilien
zu erstellen.

Nach einem Jahr wird der Familienminister ungeduldig, denn obwohl die
genannte Liste nach wenigen Wochen fertig war, konnte daraus immer noch
keine geeignete Familienplanung abgeleitet werden, die Fachleute wissen
noch nicht einmal, ob es überhaupt möglich ist, eine Planung
zu finden, welche alle geforderten Rahmenbedingungen erfüllt.

\medskip

Das Problem, welches das Familienministerium der Provinz Gnichtam De
lösen soll, ist {\it 3D-MATCHING}. Es gibt $n$ unverheiratete Frauen
und Männer, und $n$ mögliche Wohnungen. Die ursprünglich erstellte
Liste ist eine Menge von Tripeln $(x,y,z)$, wobei die Zahlen $x$,
$y$ und $z$ aus der Menge $T=[n]=\{1,2,3,\dots,n\}$ stammen. Aus dieser
Teilmenge $U\subset T\times T\times T$ soll jetzt eine 
Teilmenge $W\subset U$ von genau $n$ Tripeln ausgewählt werden, so dass
jeder Mann, jede Frau und jede Wohnung in genau einem Tripel vorkommt.
Dieses Problem ist NP-vollständig, 
nach heutigem Wissen gibt es keinen polynomiellen Algorithmus,
mit dem entschieden werden könnte, ob es überhaupt so eine Teilmenge
$W$ gibt.

\subsection{HITTING-SET}
Die Lobby-Organisation Bribe-A-Scientist will eine Menge von
Wissenschaftlern bestechen.
Sie sucht Fachleute, die zu einer Anzahl wichtiger Themen
im Sinne von BAS Stellung nehmen können.
Bei ihrer Suche stellt BAS fest, dass einige Wissenschafter
zu mehreren Themen Stellung nehmen könnten.
BAS will verhindern, dass der Eindruck entsteht, gewisse
Leute liessen sich für jede Aussage kaufen.
Die ausgewählten Wissenschafter sollen im jeweiligen Fachgebiet
die einzigen sein, die in Frage kommen.
Ist so eine Auswahl effizient auffindbar?

\medskip

Sei $S_i$ Menge der Wissenschafter, die zum Thema $i$ Stellung im
Sinne von BAS beziehen können. Gesucht wird eine Auswahl
$H$ von Wissenschaftern, so dass jeder Wissenschafter genau
ein Fachgebiet hat, für das er zur Stimme von BAS werden soll,
also $|H\cap S_i|=1$.
Dies ist das NP-vollständige Problem {\it HITTING-SET}, welches
nach heutigem Wissen nicht in polynomieller Zeit gelöst werden
kann.


\subsection{STEINER-TREE}
Eine Bank hat bis anhin ihre Filialen immer vom Hauptsitz aus mit
Geld versorgt. Die dafür nötigen Hochsicherheitstransporte sind
jedoch teuer, daher soll ein neues Transportmodell gefunden werden.
Neu sollen auch Transporte zwischen Filialen möglich sein.
Am Hauptsitz werden dazu die Beträge für mehrere Filialen
verladen, die Filialen müssen die Lieferungen
auseinander nehmen und auf neue Transporte verladen. Das
Management will wissen, ob sich mit dieser Methode die
Kosten unter den Betrag $k$ senken lassen. 

\medskip

Für jedes Paar von Filialen sind die Kosten eines Transportes
bekannt. Der billigste Logistikplan wird einen Baum verwenden.
Wäre das gewählte Verfahren nicht ein Baum, könnte man
durch Umverteilung eines Teils des Geldes nämlich einen
Transport weglassen, wodurch die Kosten geringer würden.
Es liegt also eine Instanz des Problems {\it STEINER-TREE}
vor, welches NP-vollständig ist und daher nach allem, was
wir wissen, nicht von einem Algorithmus mit polynomieller
Laufzeit gelöst werden kann.

\subsection{SEQUENCING}
Wenn Züge sich verspäten oder ausfallen hat dies oft weitreichende
Auswirkungen auf viele weitere Verbindungen.
Aus diesem Grund muss die SBB zum Beispiel dem Zürcher Verkehrsverbund
Strafe für verspätete ZVV-Züge bezahlen. Aber auch dort, wo
keine direkte Strafzahlung fällig wird, entsteht mindestens ein
Image-Schaden. Ursache der Abhängigkeiten ist oft die Tatsache,
dass in Streckenabschnitt zu einer bestimmten Zeit nur von einem
Zug durchfahren werden kann. Die Züge sind verschieden schnell,
die benötigte Durchfahrtszeit variiert. 

Die Kosten sollen jetzt dadurch gesenkt werden, dass den Disponenten
ein Computerprogramm zur Verfügung gestellt wird, mit dem sie nach
einem Zwischenfall auf einer Strecke die optimale Reihenfolge der Züge
festlegen können, mit der der geringste Schaden entsteht.
Hat dieses Projekt Aussicht auf Erfolg?

\medskip

Nur beschränkt.
Die Durchfahrzeit des Zugs mit Nummer $i$ durch die Strecke ist $t_i$.
Wenn der Zug später als zur Zeit $d_i$ ankommt, ist die Strafe $s_i$
fällig.
Werden die Züge in der durch die Permutation $\pi$
permutierten Reihenfolge  $\pi(1),\pi(2),\dots,\pi(n)$ abgefertigt,
beträgt die für Zug Nummer $j$ anfallende Strafe:
\[
\vartheta(t_{\pi(1)}+t_{\pi(2)}+\dots+t_{\pi(j)})s_{\pi(j)}
\]
Die Gesamtstrafe ist daher
\[
\sum_{j=1}^n \vartheta(t_{\pi(1)}+t_{\pi(2)}+\dots+t_{\pi(j)})s_{\pi(j)}.
\]
Das Problem ist somit äquivalent zu {\it SEQUENCING}, einem
NP-vollständigen Problem, für das es nach aktuellem Wissen keinen
polynomiellen Algorithmus steht. Das Projekt wäre besser beraten,
statt nach der optimalen Abfolge nach einer angenähert optimalen Abfolge
zu suchen.

\subsection{SUBSET-SUM}
Kurz vor Jahresende in einer grossen Software-Firma: Wie jedes Jahr stellt
der Gruppenleiter Software-Entwicklung fest, dass noch nicht sein ganzes
Budget verbraucht ist.  Er entscheidet, dass diesmal der gesamte Restbetrag
bis auf den letzten Rappen
ausgegeben werden soll.  Daher sammelt der Gruppenleiter von seinem
Team Vorschläge, was mit dem verbleibenden Geld gemacht werden könnte,
und gibt die Liste seiner Sekretärin.  Sie soll daraus so einige Dinge
auswählen, dass genau das Restbudget verbraucht wird. Einige Tage später
wundert er sich, dass die Sekretärin total überfordert ist. Ist er
am richtigen Ort?

\medskip

Nein, der Gruppenleiter hätte erkennen müssen, dass er der Sekretärin
ein NP-vollständiges Problem gestellt hat, wofür es nach aktuellem
Wissen keinen Algorithmus mit polynomieller Laufzeit gibt. Die Vorschläge
des Teams bilden eine Menge $\{b_1,b_2,\dots,b_n\}$ von Beträgen $b_i$.
Daraus soll ein Teilmenge $I=\{i_1,\dots,i_m\}$ gebildet werden, so dass
so dass der Restbetrag $r$ dadurch aufgebraucht wurde:
\[
\sum_{k=1}^m b_{i_k} = r.
\]
Dies ist das Problem {\it SUBSET-SUM}.

\subsection{PARTITION}
Ein reicher König ist gestorben, und hinterlässt seinen beiden
Söhnen, eineiigen Zwillingen, ein grosses Vermögen aus Schlössern
und Burgen. Die Berater des Königs werden zusammengerufen um
darüber zu entscheiden, wie die Güter gerecht an die beiden Söhne
verteilt werden können. Warum sind die Berater auch nach einem Jahr
noch nicht zur Einsicht gelangt, ob eine gerechte Teilung überhaupt
möglich ist?

Bezeichnen wir mit $c_i$ den Wert der Immobilie $i$, dann besteht
die Aufgabe der Berater darin eine Aufteilung der Menge $A$ aller 
zur Teilung stehenden Immobilien in zwei Mengen $I$ und $A\setminus I$
zu vollziehen, die Immobilien jeder Menge jeweils einem der Söhne zugeteilt
werden sollen.
Natürlich sollen die beiden Mengen gleichen Gesamtwert haben.
Der Gesamtwert ist jeweils die Summe der einzelnen Werte, gesucht ist also
$I\subset A$ so dass
\[
\sum_{i\in I}c_i =\sum_{i\in A\setminus I}c_i
\]
Diese ist das Problem {\it PARTITION}, es ist NP-vollständig.
Daher gibt es nach aktuellem Wissen keinen polynomiellen Algorithmus,
der es entscheiden könnte.


\subsection{MAX-CUT}
Nord- und Süd-Computanien haben sich nach langem Krieg wieder
vereinigt. Ein Förderungs-Programm versucht die wirtschaftliche
Zusammenarbeit der ehemals verfeindeten Staaten dadurch zu fördern,
dass Transporte, die ehemalige Demarkationslinie überschreiten,
grosszügig subventioniert werden. So grosszügig, dass die
Auftraggeber, wenn sie denn unterbezahlte Fahrer aus den Nachbarländern
dafür anheuern, sogar mehr an Subventionen erhalten können als
die eigentliche Fahrt kostet. Eine Firma möchte sich daran eine
goldene Nase verdienen, und verlangt, dass die Produktionsstandorte so verteilt
werden, dass möglichst viele grenzquerende Transporte nötig sind.
Das muss schnell geschehen, bevor das Förderprogramm eingestellt wird.
Hat dieser Plan Chancen?

\medskip

Die Produktionsstationen bilden einen Graphen, dessen Kanten
anzeigen, ob zwischen den beiden Stationen ein Transport notwendig
ist. Jeder Kante ist der mögliche Gewinn zugeordnet, der winkt,
wenn der Transport grenzquerend durchgeführt werden kann. Gesucht
wird jetzt eine Aufteilung der Produktionsstationen auf die
beiden Landesteile Nord- und Süd-Computanien, so dass der Gewinn
aus Subventionen die Ziele $W$ des Managements übersteigen.
Dies ist das Problem {\it MAX-CUT}, welches NP-vollständig ist
und daher nach gegenwärtigem Wissen nicht von einem Algorithmus
in polynomieller Zeit gelöst werden kann.
